"use strict";(self.webpackChunkreact_it_camasutra=self.webpackChunkreact_it_camasutra||[]).push([[357],{9357:function(e,s,o){o.r(s),o.d(s,{default:function(){return re}});var t=o(8683),a=o(8687),r={advertising:"Advertising_advertising__vIxwM",aboutMeBlock:"Advertising_aboutMeBlock__t+yhE",lookingForAJobBlock:"Advertising_lookingForAJobBlock__9vGpE",contacts:"Advertising_contacts__P0RYr",lookingForAJobDescriptionBlock:"Advertising_lookingForAJobDescriptionBlock__hX4P7",headerlookingForAJob:"Advertising_headerlookingForAJob__Y8rwc",headerAboutMe:"Advertising_headerAboutMe__T8LEg",lookingForAJobDescriptionHeader:"Advertising_lookingForAJobDescriptionHeader__pae4N",contactHeader:"Advertising_contactHeader__RECLK",contact:"Advertising_contact__7yR86"},i=o(184),n=function(e){return(0,i.jsxs)("div",{className:r.contact,children:[(0,i.jsxs)("span",{className:r.contactHeader,children:[e.socialab,": "]}),(0,i.jsx)("span",{className:r.socialabLink,children:e.socialabLink})]})},c={profileBlockForm:"ProfileBlockForm_profileBlockForm__m426r",advertising:"ProfileBlockForm_advertising__RRoON",aboutMeBlock:"ProfileBlockForm_aboutMeBlock__SIoZp",lookingForAJobBlock:"ProfileBlockForm_lookingForAJobBlock__4wREr",contacts:"ProfileBlockForm_contacts__eTFmC",fullNameBlock:"ProfileBlockForm_fullNameBlock__VW8lF",lookingForAJobDescriptionBlock:"ProfileBlockForm_lookingForAJobDescriptionBlock__uX9XW",headerlookingForAJob:"ProfileBlockForm_headerlookingForAJob__OIAeM",headerAboutMe:"ProfileBlockForm_headerAboutMe__9MbLM",lookingForAJobDescriptionHeader:"ProfileBlockForm_lookingForAJobDescriptionHeader__NKGe2",contactHeader:"ProfileBlockForm_contactHeader__U3Eu-",headerFullName:"ProfileBlockForm_headerFullName__4sM2j",contactsForm:"ProfileBlockForm_contactsForm__ioUVw",contactForm:"ProfileBlockForm_contactForm__7LSWV",errorText:"ProfileBlockForm_errorText__7veSf",textariaField:"ProfileBlockForm_textariaField__W+bnA"},l=o(6139),u=o(704),d=function(e){return(0,i.jsxs)("div",{className:c.contact,children:[(0,i.jsxs)("span",{className:c.contactHeader,children:[e.socialab,": "]}),(0,i.jsx)(l.Z,{className:c.contactForm,name:"contacts."+e.socialab,component:"input"})]})},m=(0,u.Z)({form:"profileBlockForm",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var s=Object.keys(e.userData.contacts).map((function(s){return(0,i.jsx)(d,{socialabLink:e.userData.contacts[s],socialab:s},s)}));return(0,i.jsxs)("form",{className:c.profileBlockForm,onSubmit:e.handleSubmit,children:[(0,i.jsxs)("div",{className:c.fullNameBlock,children:[(0,i.jsx)("span",{className:c.headerFullName,children:"Full name: "}),(0,i.jsx)(l.Z,{name:"fullName",component:"input"})]}),(0,i.jsxs)("div",{className:c.aboutMeBlock,children:[(0,i.jsx)("div",{className:c.headerAboutMe,children:"About me"}),(0,i.jsx)(l.Z,{name:"aboutMe",component:"textarea",className:c.textariaField})]}),(0,i.jsx)("div",{className:c.contactsForm,children:s}),(0,i.jsxs)("div",{className:c.lookingForAJobBlock,children:[(0,i.jsx)("span",{className:c.headerlookingForAJob,children:"Looking for a job: "}),(0,i.jsx)(l.Z,{name:"lookingForAJob",component:"input",type:"checkbox"}),(0,i.jsxs)("div",{className:c.lookingForAJobDescriptionBlock,children:[(0,i.jsx)("div",{className:c.lookingForAJobDescriptionHeader,children:"A job description"}),(0,i.jsx)(l.Z,{name:"lookingForAJobDescription",component:"textarea",className:c.textariaField,value:e.userData.lookingForAJobDescription})]})]}),e.error&&(0,i.jsx)("div",{className:c.errorText,children:e.error}),(0,i.jsx)("button",{children:"Save"})]})})),_=m=(0,a.$j)((function(e,s){return{initialValues:s.userData}}),{})(m),f=o(6868),x=(0,a.$j)((function(e){return{editModeProfileBlock:e.profilePage.editModeProfileBlock}}),{setEditMode:f.Mb})((function(e){var s=Object.keys(e.userData.contacts).map((function(s){if(e.userData.contacts[s])return(0,i.jsx)(n,{socialabLink:e.userData.contacts[s],socialab:s},s)}));return(0,i.jsxs)("div",{className:r.advertising,children:[(0,i.jsx)("button",{onClick:function(){e.setEditMode(!0)},children:"Edit"}),(0,i.jsxs)("div",{className:r.aboutMeBlock,children:[(0,i.jsx)("div",{className:r.headerAboutMe,children:"About me"}),(0,i.jsx)("div",{className:r.aboutMe,children:e.userData.aboutMe})]}),(0,i.jsx)("div",{className:r.contacts,children:s}),(0,i.jsxs)("div",{className:r.lookingForAJobBlock,children:[(0,i.jsx)("span",{className:r.headerlookingForAJob,children:"Looking for a job: "}),(0,i.jsx)("span",{className:r.lookingForAJob,children:e.userData.lookingForAJob}),(0,i.jsxs)("div",{className:r.lookingForAJobDescriptionBlock,children:[(0,i.jsx)("div",{className:r.lookingForAJobDescriptionHeader,children:"A job description"}),(0,i.jsx)("div",{className:r.lookingForAJobDescription,children:e.userData.lookingForAJobDescription})]})]}),e.editModeProfileBlock&&(0,i.jsx)(_,{userData:e.userData,onSubmit:function(s){e.setUserData(s)}})]})})),h="Posts_blockPost__RSZaA",j="HeaderPost_blockUserName__OkUCY",v="HeaderPost_avatarUser__2K66O",k="HeaderPost_userName__l0JKZ",p="HeaderPost_name__LibT3",b="HeaderPost_dateTime__dzDPm",N="HeaderPost_moreInfo__gZys9",F=function(e){return(0,i.jsxs)("div",{className:j,children:[(0,i.jsx)("div",{className:v,children:(0,i.jsx)("img",{src:e.userData.photos.small,alt:"avatar"})}),(0,i.jsxs)("div",{className:k,children:[(0,i.jsx)("div",{className:p,children:e.userData.fullName}),(0,i.jsx)("div",{className:b,children:e.timePost})]}),(0,i.jsx)("div",{className:N,children:"\u2022\u2022\u2022"})]})},g="BodyPost_bodyPost__huAZ3",P="BodyPost_textPost__Ycoht",A="BodyPost_blockFiles__IZseT",B=function(e){var s=e.files.map((function(e,s){return(0,i.jsx)("img",{src:e,alt:"imagePost"},s)}));return(0,i.jsxs)("div",{className:g,children:[(0,i.jsx)("div",{className:P,children:e.textPost}),(0,i.jsx)("div",{className:A,children:s})]})},D={instruments:"Instruments_instruments__g73uo",likes:"Instruments_likes__4jmH2",heart:"Instruments_heart__a2Bp+",comments:"Instruments_comments__vFGbR",commentFavicon:"Instruments_commentFavicon__tQ-+U",share:"Instruments_share__WOoKf",shareFavicon:"Instruments_shareFavicon__mSMSK"},S=function(e){return(0,i.jsxs)("div",{className:D.instruments,children:[(0,i.jsxs)("div",{className:D.likes,children:[(0,i.jsx)("div",{className:D.heart,children:"\u2764"}),(0,i.jsxs)("div",{className:D.numberOfLikes,children:[e.numberOfLikes," Likes"]})]}),(0,i.jsxs)("div",{className:D.comments,children:[(0,i.jsx)("div",{className:D.commentFavicon}),(0,i.jsxs)("div",{className:D.numberOfComments,children:[e.numberOfComments," Comments"]})]}),(0,i.jsxs)("div",{className:D.share,children:[(0,i.jsx)("div",{className:D.shareFavicon}),(0,i.jsx)("div",{children:"Share"})]})]})},J=function(e){return(0,i.jsxs)("div",{className:h,children:[(0,i.jsx)(F,{dataUser:e.dataUser,userData:e.userData,timePost:e.post.timePost}),(0,i.jsx)(B,{textPost:e.post.text,files:e.post.files}),(0,i.jsx)(S,{numberOfLikes:e.post.likes,numberOfComments:e.post.comments})]})},U="Newsline_newsLine__PSjP1",M="NewPost_newPost__QiwW3",w="NewPost_previewText__V+Y+A",C="NewPost_favicon__V2Gyc",Z="NewPost_text__2NVBU",H="NewPost_textInputBlock__KJIJA",O="NewPost_addFile__6llAl",y=o(2791),I=(0,u.Z)({form:"newPostForm"})((function(e){var s,o=(s=15,function(e){return e&&e.length>s?"Must be ".concat(s," characters or less"):void 0});return(0,i.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,i.jsxs)("div",{className:H,children:[(0,i.jsx)("img",{src:e.userData.photos.small,alt:"avatar"}),(0,i.jsx)(l.Z,{placeholder:"What's on your mind?",component:"textarea",name:"newPostText",validate:[function(e){return e||"number"===typeof e?void 0:"Required"},o]}),(0,i.jsx)("div",{className:O})]}),(0,i.jsx)("button",{children:"Create"})]})})),L=(0,a.$j)(null,null)((function(e){return(0,i.jsxs)("div",{className:M,children:[(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)("div",{className:C}),(0,i.jsx)("div",{className:Z,children:"Create Post"})]}),(0,i.jsx)(I,(0,t.Z)((0,t.Z)({},e),{},{onSubmit:function(s){e.addPostActionCreator(s.newPostText),s.newPostText=""}}))]})})),T=function(e){var s=e.posts.map((function(s){return(0,i.jsx)(J,{userData:e.userData,post:s},s.id)}));return(0,i.jsxs)("div",{className:U,children:[(0,i.jsx)(L,{userData:e.userData,addPostActionCreator:e.addPostActionCreator}),s]})},E="ProfileUser_mainContent__wf03Q",R="ProfileBlock_profileBlock__kdR-H",K="ProfileBlock_imageFon__H6KNa",W="ProfileBlock_blockUserName__b96Ko",V="ProfileBlock_avatarUser__nBM91",Y="ProfileBlock_userName__yQoFc",$="ProfileBlock_name__PSEgL",G=o(9439),Q="Status_status__CDhs1",q=function(e){var s=(0,y.useState)(!1),o=(0,G.Z)(s,2),t=o[0],a=o[1],r=(0,y.useState)(e.userStatus),n=(0,G.Z)(r,2),c=n[0],l=n[1];return(0,y.useEffect)((function(){l(e.userStatus)}),[e.userStatus]),(0,i.jsxs)("div",{className:Q,children:[e.userData,t?(0,i.jsx)("input",{onBlur:function(){a(!1),e.updateUserStatus(c)},autoFocus:!0,type:"text",value:c,onChange:function(e){return s=e.target.value,void l(s);var s}}):(0,i.jsx)("div",{onDoubleClick:function(){e.isOwnProfile&&a(!0)},children:c||"No Status"})]})},X=o(3632),z=function(e){return(0,i.jsxs)("div",{className:R,children:[(0,i.jsx)("div",{className:K,children:(0,i.jsx)("img",{src:"https://funart.pro/uploads/posts/2020-04/1587490151_91-p-krasivie-foni-dlya-profilya-steam-114.jpg",alt:"Fon"})}),(0,i.jsxs)("div",{className:W,children:[(0,i.jsxs)("div",{className:V,children:[(0,i.jsx)("img",{src:e.userData.photos.small||X,alt:"avatar"}),e.isOwnProfile&&(0,i.jsx)("input",{onChange:function(s){s.target.files.length&&e.updateAvatar(s.target.files[0])},type:"file",name:"Choose photo"})]}),(0,i.jsxs)("div",{className:Y,children:[(0,i.jsx)("div",{className:$,children:e.userData.fullName}),(0,i.jsx)(q,{isOwnProfile:e.isOwnProfile,userStatus:e.userStatus,updateUserStatus:e.updateUserStatus})]})]})]})},ee=function(e){return(0,i.jsxs)("div",{className:E,children:[(0,i.jsx)(z,{userData:e.userData,userStatus:e.userStatus,updateUserStatus:e.updateUserStatus,isOwnProfile:!e.router.params.userId,updateAvatar:e.updateAvatar}),(0,i.jsx)(T,{posts:e.posts,userData:e.userData,addPostActionCreator:e.addPostActionCreator}),(0,i.jsx)(x,{userData:e.userData,setUserData:e.setUserData})]})},se=o(2353),oe=o(7689),te=function(e){return function(s){var o=(0,oe.TH)(),a=(0,oe.s0)(),r=(0,oe.UO)();return(0,i.jsx)(e,(0,t.Z)((0,t.Z)({},s),{},{router:{location:o,navigate:a,params:r}}))}},ae=o(4083);var re=(0,o(7781).qC)(ae.D,(0,a.$j)((function(e){return{posts:e.profilePage.posts,userData:e.profilePage.userData,userId:e.profilePage.userId,isFetching:e.profilePage.isFetching,userStatus:e.profilePage.userStatus}}),{getUserProfile:f.et,getUserStatus:f.Tq,updateUserStatus:f.OL,updateAvatar:f.n1,setUserData:f.M,addPostActionCreator:f.Wl}),te)((function(e){return(0,y.useEffect)((function(){var s=e.router.params.userId;e.getUserProfile(s),e.getUserStatus(s)}),[e.router.params.userId]),(0,i.jsx)(i.Fragment,{children:!e.userData||e.isFetching?(0,i.jsx)(se.Z,{}):(0,i.jsx)(ee,(0,t.Z)({},e))})}))},4083:function(e,s,o){o.d(s,{D:function(){return n}});var t=o(8683),a=o(7689),r=o(8687),i=o(184),n=function(e){return(0,r.$j)((function(e){return{isUserAuth:e.authUserData.isUserAuth}}))((function(s){return s.isUserAuth?(0,i.jsx)(e,(0,t.Z)({},s)):(0,i.jsx)(a.Fg,{to:"/login"})}))}},3632:function(e,s,o){e.exports=o.p+"static/media/avatar-default-photo.85063297b1be7bddd334.png"}}]);
//# sourceMappingURL=357.d6d9427b.chunk.js.map